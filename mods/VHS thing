#version 330 core

uniform sampler2D vhsTexture; // VHS tape texture
uniform sampler2D crtTexture; // CRT screen texture
in vec2 fragTexCoord; // Texture coordinates from vertex shader

out vec4 FragColor;

void main()
{
    // VHS effect
    vec3 vhsColor = texture(vhsTexture, fragTexCoord).rgb;

    // CRT effect
    vec2 crtUV = fragTexCoord * 2.0 - 1.0;
    float crtDistortion = length(crtUV) * 0.1; // Simulate CRT curvature
    crtUV += crtUV * crtDistortion;
    vec3 crtColor = texture(crtTexture, crtUV * 0.5 + 0.5).rgb;

    // Combine VHS and CRT effects
    vec3 finalColor = mix(vhsColor, crtColor, 0.5);

    FragColor = vec4(finalColor, 1.0);
}
